<div class="max-w-4xl mx-auto p-6 space-y-10">

  <!-- Profile Card -->
  <div class="bg-white shadow-lg rounded-2xl p-6">
    <div class="flex items-center space-x-6 mb-6">
      
      <!-- Avatar -->
      <div class="w-24 h-24 rounded-full overflow-hidden border-4 border-gray-200 shadow">
        <img
          src="https://ui-avatars.com/api/?name={{ name() }}&background=random"
          alt="User Avatar"
          class="w-full h-full object-cover"
        />
      </div>

      <!-- Name + Email -->
      <div>
        <h2 class="text-2xl font-bold text-gray-800">Hi, {{ name() }} ðŸ‘‹</h2>
        <p class="text-gray-600 text-sm">Email: {{ email() }}</p>
        <p class="text-xs text-gray-400 mt-1">Member since 2025</p>
      </div>
    </div>
  </div>

  <!-- Grid for Summary Cards -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

    <!-- Expense Summary -->
    <div class="bg-white shadow-md rounded-2xl p-6 hover:shadow-xl transition">
    <div class="flex items-center gap-3 mb-4">
      <mat-icon class="text-blue-600">trending_up</mat-icon>
      <h3 class="text-lg font-semibold text-gray-800">Expense Summary</h3>
    </div>
    <ul class="text-sm text-gray-700 leading-6">
      <li><span class="font-medium">Categories Used:</span> {{ totalCategories() }}</li>
      <li><span class="font-medium">Entries This Month:</span> {{ totalEntries() }}</li>
      <li><span class="font-medium">Last Month Total:</span> â‚¹{{ lastMonthTotal() }}</li>
    </ul>
  </div>

    <!-- Personal Insights -->
    <div class="bg-white shadow-md rounded-2xl p-6 hover:shadow-xl transition">
    <div class="flex items-center gap-3 mb-4">
      <mat-icon class="text-green-500">insights</mat-icon>
      <h3 class="text-lg font-semibold text-gray-800">Personal Insights</h3>
    </div>
    <p class="text-sm text-gray-700 mb-4">Hereâ€™s your monthly spending breakdown:</p>
    <canvas id="monthlyChart" width="100%" height="60"></canvas>
  </div>

    <!-- Profile Settings -->
    <div class="bg-white shadow-md rounded-2xl p-6 md:col-span-2 hover:shadow-xl transition">
      <div class="flex items-center gap-3 mb-4">
        <mat-icon class="text-purple-500">settings</mat-icon>
        <h3 class="text-lg font-semibold text-gray-800">Account Settings</h3>
      </div>
      <ul class="text-sm text-gray-700 space-y-2">
        <li><strong>Username:</strong> {{ name() }}</li>
        <li><strong>Email:</strong> {{ email() }}</li>
        <li><strong>Password:</strong> â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢</li>
        <div class="mt-6 text-right">
        <button
          class="bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded shadow transition"
          (click)="openEditModal()"
        >
          Edit Your Profile
        </button>

      </div>
      </ul>
    </div>

  </div>
</div>


<!-- Edit Profile Modal -->
<!-- Floating Edit Popup Centered -->
<div *ngIf="showEditModal()" class="fixed inset-0 z-50 flex items-center justify-center bg-black/10 backdrop-blur-sm">
  <div class="bg-white w-full max-w-xl rounded-2xl shadow-2xl p-8 border border-gray-200">
    <h2 class="text-xl font-semibold mb-6 text-gray-800">Edit Your Profile</h2>

    <form (ngSubmit)="submitProfileUpdate()" class="space-y-6">

  <!-- Name -->
  <div>
    <label for="name" class="block text-sm font-medium text-gray-700 mb-1">Your Name</label>
    <input
      type="text"
      id="name"
      name="name"
      [(ngModel)]="form.name"
      class="mt-1 block w-full rounded-md border border-gray-300 px-4 py-2 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500 focus:outline-none"
    />
  </div>

  <!-- Avatar -->
  <div>
    <label for="avatar" class="block text-sm font-medium text-gray-700 mb-1">Avatar URL</label>
    <input
      type="text"
      id="avatar"
      name="avatar"
      [(ngModel)]="form.avatar"
      class="mt-1 block w-full rounded-md border border-gray-300 px-4 py-2 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500 focus:outline-none"
    />
  </div>

  <!-- Monthly Budget -->
  <div>
    <label for="totalBudget" class="block text-sm font-medium text-gray-700 mb-1">Monthly Budget</label>
    <input
      type="number"
      id="totalBudget"
      name="totalBudget"
      [(ngModel)]="form.totalBudget"
      class="mt-1 block w-full rounded-md border border-gray-300 px-4 py-2 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500 focus:outline-none"
    />
  </div>

  <!-- Password -->
  <div>
    <label for="password" class="block text-sm font-medium text-gray-700 mb-1">New Password</label>
    <input
      type="password"
      id="password"
      name="password"
      [(ngModel)]="form.password"
      class="mt-1 block w-full rounded-md border border-gray-300 px-4 py-2 text-sm shadow-sm focus:border-blue-500 focus:ring-blue-500 focus:outline-none"
    />
  </div>

  <!-- Buttons -->
  <div class="flex justify-end gap-3 pt-4">
    <button type="button" (click)="closeEditModal()" class="px-4 py-2 rounded-md bg-gray-100 hover:bg-gray-200 text-sm font-medium">
      Cancel
    </button>
    <button type="submit" class="px-4 py-2 rounded-md bg-blue-600 text-white hover:bg-blue-700 text-sm font-medium">
      Save
    </button>
  </div>
</form>


  </div>
</div>
